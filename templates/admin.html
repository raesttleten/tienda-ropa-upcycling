<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - thriftstorecol</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <a href="/" class="logo">thriftstorecol ¬∑ admin</a>
            <div class="nav-icons">
                <a href="/" style="width: auto; padding: 0.8rem 1.5rem; border-radius: 50px;">
                    <i class="fas fa-home"></i> Volver a la tienda
                </a>
            </div>
        </nav>
    </header>

    <main class="admin-container">
        <div class="admin-stats">
            <div class="stat-card">
                <h3><i class="fas fa-box"></i> Total Productos</h3>
                <div class="numero">{{ total_productos }}</div>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-warehouse"></i> Stock Total</h3>
                <div class="numero">{{ total_stock }}</div>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-dollar-sign"></i> Valor Inventario</h3>
                <div class="numero">${{ "%.2f"|format(valor_inventario) }}</div>
            </div>
        </div>

        <section class="agregar-producto">
            <h2><i class="fas fa-plus-circle"></i> Agregar Nueva Pieza</h2>
            <form method="POST" action="/admin/agregar">
                <input type="text" name="nombre" placeholder="Nombre del producto *" required>

                <select name="categoria" required>
                    <option value="">Seleccionar categor√≠a *</option>
                    <option value="Camiseta">Camiseta</option>
                    <option value="Pantalon">Pantal√≥n</option>
                    <option value="Chaqueta">Chaqueta</option>
                    <option value="Vestido">Vestido</option>
                    <option value="Accesorios">Accesorios</option>
                    <option value="Otro">Otro</option>
                </select>

                <input type="number" step="0.01" name="precio" placeholder="Precio (COP) *" required>

                <select name="talla" required>
                    <option value="">Seleccionar talla *</option>
                    <option value="XS">XS</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                    <option value="XXL">XXL</option>
                    <option value="√önica">√önica</option>
                </select>

                <input type="number" name="stock" placeholder="Stock disponible *" required min="0">

                <input type="url" name="imagen_url" placeholder="URL de la imagen * (ver instrucciones abajo)" required>

                <textarea name="descripcion" placeholder="Descripci√≥n: historia de la pieza, materiales, estado, detalles especiales..." required></textarea>

                <button type="submit">
                    <i class="fas fa-save"></i> AGREGAR PRODUCTO
                </button>
            </form>

            <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(225, 190, 231, 0.1); border-radius: 15px; border: 2px solid var(--lavender);">
                <h4 style="color: var(--lavender); margin-bottom: 1rem;">
                    <i class="fas fa-info-circle"></i> C√≥mo agregar im√°genes:
                </h4>
                <ol style="color: var(--text-gray); line-height: 1.8; padding-left: 1.5rem;">
                    <li>Sube tu foto a <a href="https://imgur.com/upload" target="_blank" style="color: var(--purple); font-weight: 600;">Imgur</a> o <a href="https://postimages.org/" target="_blank" style="color: var(--purple); font-weight: 600;">PostImages</a></li>
                    <li>Copia el enlace directo de la imagen</li>
                    <li>P√©galo en el campo "URL de la imagen"</li>
                </ol>
            </div>
        </section>

        <section class="lista-productos">
            <h2><i class="fas fa-list"></i> Inventario Actual</h2>
            {% if productos %}
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Imagen</th>
                        <th>Nombre</th>
                        <th>Categor√≠a</th>
                        <th>Precio</th>
                        <th>Talla</th>
                        <th>Stock</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for producto in productos %}
                    <tr>
                        <td><strong>#{{ producto.id }}</strong></td>
                        <td>
                            <img src="{{ producto.imagen_url }}" alt="{{ producto.nombre }}"
                                 style="width: 70px; height: 70px; object-fit: cover; border-radius: 10px; border: 2px solid var(--lavender);"
                                 onerror="this.src='https://images.unsplash.com/photo-1445205170230-053b83016050?w=100&h=100&fit=crop'">
                        </td>
                        <td><strong>{{ producto.nombre }}</strong></td>
                        <td><span style="color: var(--lavender);">{{ producto.categoria }}</span></td>
                        <td style="color: var(--blush); font-weight: 700; font-size: 1.1rem;">${{ "%.2f"|format(producto.precio) }}</td>
                        <td>{{ producto.talla }}</td>
                        <td>
                            {% if producto.stock == 0 %}
                                <span style="color: #FF1744;">Agotado</span>
                            {% elif producto.stock == 1 %}
                                <span style="color: var(--mint);">1 (√∫nica)</span>
                            {% elif producto.stock < 3 %}
                                <span style="color: var(--mint);">{{ producto.stock }}</span>
                            {% else %}
                                <span style="color: var(--sage);">{{ producto.stock }}</span>
                            {% endif %}
                        </td>
                        <td>
                            <a href="/admin/eliminar/{{ producto.id }}"
                               class="btn-delete"
                               onclick="return confirm('‚ö†Ô∏è ¬øSeguro que quieres eliminar este producto?')">
                                <i class="fas fa-trash"></i> Eliminar
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p style="text-align: center; color: var(--text-gray); padding: 3rem;">
                No hay productos. ¬°Agrega tu primera pieza vintage arriba! üå∏
            </p>
            {% endif %}
        </section>
    </main>

    <footer>
        <p>thriftstorecol ¬∑ Admin Panel</p>
    </footer>
</body>
</html>
```

---

# PARTE 2: C√ìMO PONER FOTOS üì∏

## OPCI√ìN 1: Usar URLs de Internet (M√ÅS F√ÅCIL)

### Paso 1: Subir tus fotos online

**Sitios gratuitos recomendados:**
- **Imgur**: https://imgur.com/upload
- **PostImages**: https://postimages.org/
- **ImgBB**: https://imgbb.com/

### Paso 2: Obtener el enlace directo
1. Sube tu foto
2. Copia el enlace **directo** (debe terminar en .jpg, .png, .jpeg)
3. √ösalo en el campo "URL de la imagen" del admin

**Ejemplo de URL v√°lida:**
```
https://i.imgur.com/abc123.jpg
```

---

## OPCI√ìN 2: Guardar fotos en tu proyecto (M√ÅS PROFESIONAL)

### Paso 1: Crear carpeta para im√°genes

Ya tienes la carpeta `static/images/`, ahora crea subcarpetas:
```
static/
‚îî‚îÄ‚îÄ images/
    ‚îú‚îÄ‚îÄ productos/
    ‚îî‚îÄ‚îÄ hero/
```

### Paso 2: Copiar tus fotos ah√≠

Arrastra tus fotos de productos a `static/images/productos/`

**Ejemplo:**
```
static/images/productos/
‚îú‚îÄ‚îÄ camiseta-vintage-1.jpg
‚îú‚îÄ‚îÄ vestido-flores-2.jpg
‚îú‚îÄ‚îÄ chaqueta-denim-3.jpg
```

### Paso 3: Usar la ruta en el admin

En el formulario, en lugar de una URL de internet, pon:
```
/static/images/productos/camiseta-vintage-1.jpg